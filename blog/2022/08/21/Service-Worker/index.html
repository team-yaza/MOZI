<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Service-Worker | MOZI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://team-yaza.github.io/blog/2022/08/21/Service-Worker"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Service-Worker | MOZI"><meta data-rh="true" name="description" content="ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” ë¸Œë¼ìš°ì €ê°€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¡œ, ì›¹ í˜ì´ì§€ì™€ëŠ” ë³„ê°œë¡œ ì‘ë™í•˜ë©° ì›¹ í˜ì´ì§€ ë˜ëŠ” ì‚¬ìš©ìì˜ ì¸í„°ë™ì…˜ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê¸°ëŠ¥ë§Œ ì œê³µí•˜ê³  ìˆë‹¤."><meta data-rh="true" property="og:description" content="ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” ë¸Œë¼ìš°ì €ê°€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¡œ, ì›¹ í˜ì´ì§€ì™€ëŠ” ë³„ê°œë¡œ ì‘ë™í•˜ë©° ì›¹ í˜ì´ì§€ ë˜ëŠ” ì‚¬ìš©ìì˜ ì¸í„°ë™ì…˜ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê¸°ëŠ¥ë§Œ ì œê³µí•˜ê³  ìˆë‹¤."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-08-21T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://team-yaza.github.io/blog/2022/08/21/Service-Worker"><link data-rh="true" rel="alternate" href="https://team-yaza.github.io/blog/2022/08/21/Service-Worker" hreflang="en"><link data-rh="true" rel="alternate" href="https://team-yaza.github.io/blog/2022/08/21/Service-Worker" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MOZI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MOZI Atom Feed"><link rel="stylesheet" href="/assets/css/styles.a7ab553b.css">
<link rel="preload" href="/assets/js/runtime~main.7de15c5f.js" as="script">
<link rel="preload" href="/assets/js/main.1f8bec33.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/mozi.svg" alt="MOZI" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/mozi.svg" alt="MOZI" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MOZI</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/Login">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/MOZI">MOZI ìµœì¢… ë°œí‘œ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/web-push">Web Push</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/seo">SEO ìµœì í™”í•˜ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/thinking-about-pwa">PWAì— ëŒ€í•œ ìƒê°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Sentryë¡œ-ëª¨ë‹ˆí„°ë§-ì‹œìŠ¤í…œ-êµ¬ì¶•í•˜ê¸°">Sentryë¡œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•í•˜ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/dnd">Drag And Drop</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/mozi-calendar">ğŸ“… ìº˜ë¦°ë” ë§Œë“¤ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/thinking-in-react">Thinking in React</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/GraphQL">GraphQL</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2022/08/21/Service-Worker">Service-Worker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/background-sync">Background Sync</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/useState-vs-useRef">useState vs useRef</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/offline-first">ì„œë¹„ìŠ¤ ì›Œì»¤ë¡œ ì˜¤í”„ë¼ì¸ ìš°ì„  ë°›ì•„ë“¤ì´ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/life-cycle-and-cache-controll">ì„œë¹„ìŠ¤ì›Œì»¤ì˜ ìƒëª… ì£¼ê¸°ì™€ ìºì‹œ ê´€ë¦¬</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ì›¹ì€-ì–´ë–»ê²Œ-ë°œì „í–ˆëŠ”ê°€">ì›¹ì€ ì–´ë–»ê²Œ ë°œì „í–ˆëŠ”ê°€</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/use-cache-storage-api">CacheStorage API ì‚¬ìš©í•˜ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/use-service-worker">ì„œë¹„ìŠ¤ì›Œì»¤ ì‚¬ìš©í•´ë³´ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/What-is-PWA">PWA(Progressive Web App)ë€ ë¬´ì—‡ì¸ê°€?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/rendering-patterns">Rendering Patterns</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/í”„ë¡œì íŠ¸ë¥¼-í•˜ë©°-ì½ì€-ê¸€">í”„ë¡œì íŠ¸ë¥¼ í•˜ë©° ì½ì€ ê¸€</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Service-Worker</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-08-21T00:00:00.000Z" itemprop="datePublished">August 21, 2022</time> Â· <!-- -->8 min read</div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” ë¸Œë¼ìš°ì €ê°€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¡œ, ì›¹ í˜ì´ì§€ì™€ëŠ” ë³„ê°œë¡œ ì‘ë™í•˜ë©° ì›¹ í˜ì´ì§€ ë˜ëŠ” ì‚¬ìš©ìì˜ ì¸í„°ë™ì…˜ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê¸°ëŠ¥ë§Œ ì œê³µí•˜ê³  ìˆë‹¤.
ì„œë¹„ìŠ¤ ì›Œì»¤ì˜ ìˆ˜ëª…ì£¼ê¸°ëŠ” ì›¹ í˜ì´ì§€ì™€ëŠ” ì™„ì „íˆ ë³„ê°œì´ë‹¤. ì›¹ ì„œë¹„ìŠ¤ì™€ ë¸Œë¼ìš°ì € ë° ë„¤íŠ¸ì›Œí¬ ì‚¬ì´ì—ì„œ í”„ë¡ì‹œ ì„œë²„ ì—­í• ì„ í•˜ë©°, ì˜¤í”„ë¼ì¸ì—ì„œë„ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p><p>ì›¹ í˜ì´ì§€ì™€ ë³„ê°œë¡œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ ì œì•½ì´ ìˆë‹¤.</p><ol><li>ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” ìš”ì²­í•˜ì§€ ì•ŠëŠ” ì´ìƒ, ì—†ëŠ” ê²ƒì´ë‚˜ ë‹¤ë¦„ì´ ì—†ë‹¤.</li><li>ì›¹ í˜ì´ì§€ life cycleì„ ë”°ë¥´ì§€ ì•ŠëŠ”ë‹¤. ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” ì›¹ í˜ì´ì§€ê°€ ë‹«íˆë”ë¼ë„ ìë™ìœ¼ë¡œ ë¹„í™œì„±í™”ë˜ì§€ ì•ŠëŠ”ë‹¤.</li><li>ì›¹ í˜ì´ì§€ì™€ ë³„ê°œë¡œ ì¡´ìí•´ë¯€ë¡œ DOMì´ë‚˜ window ìš”ì†Œì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ìºì‹œì™€-ìƒí˜¸ì‘ìš©">ìºì‹œì™€ ìƒí˜¸ì‘ìš©<a class="hash-link" href="#ìºì‹œì™€-ìƒí˜¸ì‘ìš©" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://user-images.githubusercontent.com/63354527/183283272-80e7c99f-1454-42b3-8328-e5f66b31f2dd.png" alt="image" class="img_ev3q"></p><p><code>fetch</code> ì´ë²¤íŠ¸ì˜ ì¤‘ê°„ì ì—­í• ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” HTTPë¥¼ í†µí•´ ì •ë³´ë¥¼ ìš”ì²­í•˜ëŠ” ëŒ€ì‹  ê°€ì§€ê³  ìˆëŠ” ìºì‹œì—ì„œ ìë£Œë¥¼ ì „ë‹¬í•œë‹¤. ìºì‹œê°€ ì‚­ì œë˜ì§€ ì•ŠëŠ” í•œ ë¸Œë¼ìš°ì €ëŠ” ì¸í„°ë„· ì—°ê²° ì—†ì´ë„ ì •ë³´ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="í‘¸ì‰¬-ì•Œë¦¼">í‘¸ì‰¬ ì•Œë¦¼<a class="hash-link" href="#í‘¸ì‰¬-ì•Œë¦¼" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://user-images.githubusercontent.com/63354527/183283322-fa0ebaa3-a4f1-43d7-a9ed-c05809b08969.png" alt="image" class="img_ev3q"></p><p>ë¸Œë¼ìš°ì € ì°½ì´ ë‹«íŒ ìƒíƒœì—ì„œë„ ë™ì‘í•˜ë¯€ë¡œ, í‘¸ì‹œ ì•Œë¦¼ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ë°±ê·¸ë¼ìš´ë“œ-ë™ê¸°í™”">ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”<a class="hash-link" href="#ë°±ê·¸ë¼ìš´ë“œ-ë™ê¸°í™”" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://user-images.githubusercontent.com/63354527/183283351-6d23a274-9257-41d6-944e-f424b4224991.png" alt="image" class="img_ev3q"></p><p>ì±„íŒ… ë©”ì‹œì§€ ë˜ëŠ” ì‚¬ì§„ ì—…ë¡œë“œ ë“±ì˜ ì‘ì—… ë„ì¤‘ ì»´í“¨í„°ê°€ ì˜¤í”„ë¼ì¸ ìƒíƒœê°€ ë˜ëŠ” ê²½ìš° ì˜¨ë¼ì¸ ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œ í•´ë‹¹ ì‘ì—…ì„ ë§ˆì € ì™„ë£Œí•  ìˆ˜ ìˆë‹¤.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fetch">Fetch<a class="hash-link" href="#fetch" title="Direct link to heading">â€‹</a></h2><p>fetchë€ web resourceì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ í–‰í•´ì§€ëŠ” ëª¨ë“  request actionì„ ì˜ë¯¸í•œë‹¤.
service workerëŠ” fetchë¥¼ í†µí•´ ë°œìƒí•˜ëŠ” ëª¨ë“  http requestë¥¼ ì¤‘ê°„ì—ì„œ ê°€ë¡œì±Œ ìˆ˜ ìˆë‹¤. (proxy)
ì˜ˆë¥¼ ë“¤ì–´ ì‹¤ ì„œë²„ë¡œ ë³´ë‚´ì§€ëŠ” requestë¥¼ ì¤‘ê°„ì—ì„œ ê°€ë¡œì±„ì–´ ì„œë²„ë¡œ ë³´ë‚´ì§€ ë§ê³  ëŒ€ì‹  cache ëœ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ë“±ì˜ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.</p><p>http requestê°€ ìˆì„ ë•Œë§ˆë‹¤ fetchì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ”ë° service workerëŠ” fetch event listenerë¥¼ ë“±ë¡í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³  ìˆë‹¤ê°€ fetchì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ listenerì—ì„œ requestë¥¼ interceptí•˜ëŠ” ë°©ì‹ì´ë‹¤.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ë©”ì‹œì§€ë¥¼-í†µí•œ-ì„œë¹„ìŠ¤-ì›Œì»¤ì™€-í˜ì´ì§€ê°„ì˜-ì»¤ë®¤ë‹ˆì¼€ì´ì…˜">ë©”ì‹œì§€ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ì›Œì»¤ì™€ í˜ì´ì§€ê°„ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜<a class="hash-link" href="#ë©”ì‹œì§€ë¥¼-í†µí•œ-ì„œë¹„ìŠ¤-ì›Œì»¤ì™€-í˜ì´ì§€ê°„ì˜-ì»¤ë®¤ë‹ˆì¼€ì´ì…˜" title="Direct link to heading">â€‹</a></h2><ul><li>ìœˆë„ìš°ì—ì„œ í•´ë‹¹ ìœˆë„ìš°ë¥¼ ì œì–´í•˜ëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤ë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸°</li><li>ì„œë¹„ìŠ¤ ì›Œì»¤ì—ì„œ ë²”ìœ„ ë‚´ì˜ ëª¨ë“  ìœˆë„ìš°ë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸°</li><li>ì„œë¹„ìŠ¤ ì›Œì»¤ì—ì„œ íŠ¹ì • ìœˆë„ìš°ë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸°</li><li>ìœˆë„ìš°ê°„ ë©”ì‹œì§€ ë³´ë‚´ê¸° (ì„œë¹„ìŠ¤ ì›Œì»¤ë¥¼ í†µí•´)</li></ul><p>í˜ì´ì§€ì—ì„œ ì„œë¹„ìŠ¤ì›Œì»¤ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´í•œë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">navigator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">serviceWorker</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">controller</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ê·¸ í›„ì—ëŠ” ë©”ì‹œì§€ ìì²´ë¥¼ ì²«ë²ˆì§¸ ì¸ìˆ˜ë¡œ ë°›ëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤ì˜ <code>postMessage()</code> ë©”ì„œë“œë¥¼ í™œìš©í•œë‹¤.ì´ ë©”ì‹œì§€ëŠ” ë¬´ì—‡ì´ë“  ë  ìˆ˜ ìˆë‹¤.</p><p>ë©”ì‹œì§€ê°€ ê²Œì‹œë˜ê³  ë‚˜ë©´ ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” message ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ì—¬ í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ìœ„ ì˜ˆì œëŠ” ë©”ì‹œì§€ë¥¼ ë°›ì•„ì„œ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤. ë©”ì‹œì§€ì— í¬í•¨ëœ ì½˜í…ì¸ ëŠ” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— ì „ë‹¬ëœ ì´ë²¤íŠ¸ ê°ì²´ì˜ ë°ì´í„° ì†ì„±ì—ì„œ ì°¾ì„ ìˆ˜ ìˆë‹¤.
ë©”ì‹œì§€ ë°ì´í„° ìì²´ë¥¼ í¬í•¨í•˜ëŠ” ê²ƒ ì´ì™¸ì—ë„ ì´ë²¤íŠ¸ ê°ì²´ëŠ” ì—¬ëŸ¬ ìœ ìš©í•œ ì†ì„±ì„ ê°€ì§€ê³  ìˆë‹¤. ê°€ì¥ ìœ ìš©í•œ ì†ì„±ì¤‘ ì¼ë¶€ëŠ” source ì†ì„±ì— ìˆë‹¤.</p><p>source ì†ì„±ì—ëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ ìœˆë„ìš° ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤. ì´ ì •ë³´ë¥¼ í™œìš©í•´ì„œ ë¬´ì—‡ì„ í• ì§€ ê·¸ë¦¬ê³  ì‘ë‹µì„ ì–´ë””ë¡œ ë³´ë‚¼ì§€ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.
ë‹¤ìŒ ì½”ë“œëŠ” ë©”ì‹œì§€ì˜ source ì†ì„±ì„ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œ ì½”ë“œì´ë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Message received:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;From a window with the id:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;which is currently pointing at:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;and is&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">focused</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;focused&quot;</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;not focused&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;and&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">visibilityState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>í˜ì´ì§€ì—ì„œ ì„œë¹„ìŠ¤ì›Œì»¤ë¡œ í•´ë‹¹ í˜ì´ì§€ë¥¼ ìºì‹œí•˜ë¼ê³  ìš”ì²­ì„ ë³´ë‚¸ë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">navigator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">serviceWorker</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">postMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;cache-current-page&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ì‚¬ìš©ìê°€ í•´ë‹¹ í˜ì´ì§€ì— ë°©ë¬¸í•˜ë©´ ì„œë¹„ìŠ¤ ì›Œì»¤ì— ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ì›Œì»¤ëŠ” ì´ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ê³ , ì–´ëŠ í˜ì´ì§€ë¥¼ ìºì‹±í• ì§€ ê²°ì •í•˜ê¸° ìœ„í•´ ì´ë²¤íŠ¸ source ì†ì„±ì˜ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><p>ì„œë¹„ìŠ¤ ì›Œì»¤ì—ì„œ í˜ì´ì§€ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒì€ í˜ì´ì§€ì—ì„œ ì„œë¹„ìŠ¤ ì›Œì»¤ë¡œ ë©”ì‹œì§€ë¥¼ ê²Œì‹œí•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤. ìœ ì¼í•œ ì°¨ì´ì ì€ postMessage()ë¥¼ í˜¸ì¶œí•˜ëŠ” ê°ì²´ì´ë‹¤. ì§€ê¸ˆê¹Œì§€ ì„œë¹„ìŠ¤ ì›Œì»¤ì—ì„œ postMessage()ë¥¼ í˜¸ì¶œí–ˆë‹¤ë©´ ì´ë²ˆì—ëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í˜¸ì¶œí•œë‹¤.</p><p>ì„œë¹„ìŠ¤ ì›Œì»¤ë‚´ì—ì„œ ì„œë¹„ìŠ¤ ì›Œì»¤ì˜ ê¸€ë¡œë²Œ ê°ì²´ì¸ clients ê°ì²´ë¥¼ ì‚¬ìš©í•´ í˜„ì¬ ì„œë¹„ìŠ¤ ì›Œì»¤ ë²”ì£¼ì•ˆì— ì—´ë ¤ ìˆëŠ” ëª¨ë“  ìœˆë„ìš°(Window Clients)ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. clients ê°ì²´ëŠ” matchAll ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì´ ë©”ì„œë“œëŠ” ì„œë¹„ìŠ¤ì›Œì»¤ ë²”ì£¼ ë‚´ì— ì—´ë ¤ ìˆëŠ” ëª¨ë“  ìœˆë„ìš°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‚¬ìš©ëœë‹¤. matchAll() ë©”ì„œë“œëŠ” 0ê°œ í˜¹ì€ ê·¸ ì´ìƒì˜ WindowClient ê°ì²´ë¥¼ ë‹´ëŠ” ë°°ì—´ë¡œ ë¦¬ì¡¸ë¸Œë˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">clients</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">matchAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">clients</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  clients</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">includes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/my-account&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">postMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hi client: &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ì´ ì½”ë“œëŠ” í˜„ì¬ ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ì œì–´í•˜ëŠ” ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ë¥¼ ê°€ì ¸ì™€ í•˜ë‚˜ì”© ëŒë©° í˜ì´ì§€ë¥¼ í‘œì‹œí•˜ê³  ìˆëŠ” ìœˆë„ìš°ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ë‹¤.
ì´ ë©”ì‹œì§€ë¥¼ ìœˆë„ìš°ì—ì„œ ë°›ëŠ” ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">navigator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">serviceWorker</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ì„¤ì¹˜ë˜ê³  í•„ìš”í•œ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ìºì‹±ì´ ëë‚˜ë©´ ì•± ì‚¬ìš©ìì—ê²Œ ì˜¨ë¼ì¸ì´ë“  ì˜¤í”„ë¼ì¸ì´ë“  ìƒê´€ì—†ì´ ì•±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  ì•Œë ¤ì•¼í•©ë‹ˆë‹¤.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;install&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">waitUntil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    caches</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">CACHE_NAME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">CACHED_URLS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">clients</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">matchAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">includeUncontrolled</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">clients</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      clients</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">postMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;caching-complete&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ìœ„ ì½”ë“œì—ì„œ clients.matchAll()ë¥¼ í˜¸ì¶œí•  ë•Œ ì˜µì…˜ ê°ì²´ë¥¼ ì „ë‹¬í•˜ì—¬ ì œì–´ë˜ì§€ ì•ŠëŠ” í´ë¼ì´ì–¸íŠ¸ë„ ê²°ê³¼ì— í¬í•¨ë˜ë„ë¡ ìš”ì²­í•œë‹¤.</p><p>ì‚¬ìš©ìê°€ í˜ì´ì§€ì— ì²˜ìŒ ë°©ë¬¸í•˜ë©´ ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ì„¤ì¹˜ë˜ê³  í™œì„±í™”ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ í˜ì´ì§€ëŠ” ì—¬ì „íˆ ì„œë¹„ìŠ¤ ì›Œì»¤ì—ì˜í•´ ì œì–´ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ë§Œì¼ self.clients.matchAll()ì— ì œì–´ë˜ì§€ ì•ŠëŠ” ìœˆë„ìš°ë¥¼ í¬í•¨í•˜ì§€ ì•Šë„ë¡ ì•Œë ¤ì£¼ì§€ ì•Šì•˜ë‹¤ë©´ ë©”ì‹œì§€ëŠ” ëª©ì ì§€ì— ë„ë‹¬í•˜ì§€ ëª»í•  ê²ƒ ì…ë‹ˆë‹¤.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lifecycle">LifeCycle<a class="hash-link" href="#lifecycle" title="Direct link to heading">â€‹</a></h2><p>ì„œë¹„ìŠ¤ ì›Œì»¤ì˜ ë¼ì´í”„ì‚¬ì´í´ì€ ë³µì¡í•˜ë‹¤.<br>
<!-- -->ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ë¬´ì—‡ì„ í•˜ë ¤ëŠ”ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ ê·¸ ë¼ì´í”„ì‚¬ì´í´ì´ ì–´ë–¤ ì´ì ì´ ìˆëŠ”ì§€ ëª¨ë¥¸ë‹¤ë©´, ì„œë¹„ìŠ¤ì›Œì»¤ì™€ ì‹¸ìš°ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤.</p><blockquote><p>But once you know how it works, you can deliver seamless, unobtrusive updates to users, mixing the best of web and native patterns.</p></blockquote><p>ì„œë¹„ìŠ¤ ì›Œì»¤ ë¼ì´í”„ ì‚¬ì´í´ì˜ ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>Make offline-first possible.</li><li>Allow a new service worker to get itself ready without disrupting the current one.</li><li>Ensure an in-scope page is controlled by the same service worker (or no service worker) throughout.</li><li>Ensure there&#x27;s only one version of your site running at once.</li></ul><p>ë¼ì´í”„ ì‚¬ì´í´ì˜ ê¸°ë³¸ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.</p><ul><li>The install event is the first event a service worker gets, and it only happens once.</li><li>A promise passed to installEvent.waitUntil() signals the duration and success or failure of your install.</li><li>A service worker won&#x27;t receive events like fetch and push until it successfully finishes installing and becomes &quot;active&quot;.</li><li>By default, a page&#x27;s fetches won&#x27;t go through a service worker unless the page request itself went through a service worker. So you&#x27;ll need to refresh the page to see the effects of the service worker.</li><li>clients.claim() can override this default, and take control of non-controlled pages.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install">Install<a class="hash-link" href="#install" title="Direct link to heading">â€‹</a></h3><p>The first event a service worker gets is install. It&#x27;s triggered as soon as the worker executes, and it&#x27;s only called once per service worker. If you alter your service worker script the browser considers it a different service worker, and it&#x27;ll get its own install event.</p><p>The install event is your chance to cache everything you need before being able to control clients. The promise you pass to event.waitUntil() lets the browser know when your install completes, and if it was successful.</p><p>If your promise rejects, this signals the install failed, and the browser throws the service worker away. It&#x27;ll never control clients.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="activate">Activate<a class="hash-link" href="#activate" title="Direct link to heading">â€‹</a></h3><p>Once your service worker is ready to control clients and handle functional events like push and sync, you&#x27;ll get an activate event.<br>
<!-- -->But that doesn&#x27;t mean the page that called .register() will be controlled.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clients-claim">clients claim<a class="hash-link" href="#clients-claim" title="Direct link to heading">â€‹</a></h3><p>You can take control of uncontrolled clients by calling clients.claim() within your service worker once it&#x27;s activated.</p><p>If you use your service worker to load pages differently than they&#x27;d load via the network, clients.claim() can be troublesome, as your service worker ends up controlling some clients that loaded without it.</p><blockquote><p>Note: I see a lot of people including clients.claim() as boilerplate, but I rarely do so myself. It only really matters on the very first load, and due to progressive enhancement the page is usually working happily without service worker anyway.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì°¸ê³ ">ì°¸ê³ <a class="hash-link" href="#ì°¸ê³ " title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://web.dev/service-worker-lifecycle/#scope_and_control" target="_blank" rel="noopener noreferrer">The service worker lifecycle</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/GraphQL"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">GraphQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/background-sync"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Background Sync</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ìºì‹œì™€-ìƒí˜¸ì‘ìš©" class="table-of-contents__link toc-highlight">ìºì‹œì™€ ìƒí˜¸ì‘ìš©</a></li><li><a href="#í‘¸ì‰¬-ì•Œë¦¼" class="table-of-contents__link toc-highlight">í‘¸ì‰¬ ì•Œë¦¼</a></li><li><a href="#ë°±ê·¸ë¼ìš´ë“œ-ë™ê¸°í™”" class="table-of-contents__link toc-highlight">ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”</a></li><li><a href="#fetch" class="table-of-contents__link toc-highlight">Fetch</a></li><li><a href="#ë©”ì‹œì§€ë¥¼-í†µí•œ-ì„œë¹„ìŠ¤-ì›Œì»¤ì™€-í˜ì´ì§€ê°„ì˜-ì»¤ë®¤ë‹ˆì¼€ì´ì…˜" class="table-of-contents__link toc-highlight">ë©”ì‹œì§€ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ì›Œì»¤ì™€ í˜ì´ì§€ê°„ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜</a></li><li><a href="#lifecycle" class="table-of-contents__link toc-highlight">LifeCycle</a><ul><li><a href="#install" class="table-of-contents__link toc-highlight">Install</a></li><li><a href="#activate" class="table-of-contents__link toc-highlight">Activate</a></li><li><a href="#clients-claim" class="table-of-contents__link toc-highlight">clients claim</a></li></ul></li><li><a href="#ì°¸ê³ " class="table-of-contents__link toc-highlight">ì°¸ê³ </a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Login">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/team-yaza" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 MOZI, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7de15c5f.js"></script>
<script src="/assets/js/main.1f8bec33.js"></script>
</body>
</html>